<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Học Từ Vựng Tiếng Anh 3000 Từ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3a0ca3;
            --accent-color: #f72585;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --success-color: #4cc9f0;
            --border-radius: 12px;
            --box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--dark-color);
            line-height: 1.6;
            min-height: 100vh;
            padding-bottom: 60px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 30px 0;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .word-count {
            display: inline-block;
            background-color: var(--accent-color);
            padding: 5px 15px;
            border-radius: 50px;
            font-weight: bold;
            margin-top: 10px;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            background-color: white;
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 30px;
        }

        .search-box {
            flex: 1;
            min-width: 300px;
            margin-right: 20px;
            margin-bottom: 10px;
        }

        .search-box input {
            width: 100%;
            padding: 14px 20px;
            border: 2px solid #e0e0e0;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .filter-section {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 10px;
        }

        .filter-btn {
            padding: 10px 20px;
            background-color: var(--light-color);
            border: 2px solid #e0e0e0;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
        }

        .filter-btn:hover, .filter-btn.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .card-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.12);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .card-number {
            background-color: var(--primary-color);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .card-bookmark {
            color: #ddd;
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .card-bookmark.active {
            color: var(--accent-color);
        }

        .card-word {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--secondary-color);
            margin-bottom: 10px;
        }

        .card-phonetic {
            color: var(--primary-color);
            font-size: 1.1rem;
            margin-bottom: 15px;
            font-style: italic;
        }

        .card-meaning {
            background-color: #f8f9ff;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid var(--success-color);
        }

        .card-item {
            margin-bottom: 10px;
            display: flex;
        }

        .card-label {
            font-weight: 600;
            min-width: 110px;
            color: var(--dark-color);
        }

        .card-value {
            flex: 1;
            color: #555;
        }

        .loading {
            text-align: center;
            padding: 40px;
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .loading i {
            font-size: 2rem;
            margin-bottom: 15px;
            display: block;
        }

        .error {
            text-align: center;
            padding: 40px;
            color: #d32f2f;
            background-color: #ffebee;
            border-radius: var(--border-radius);
            margin: 20px 0;
        }

        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        .pagination-btn {
            padding: 12px 20px;
            margin: 0 5px;
            background-color: white;
            border: 2px solid #e0e0e0;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
        }

        .pagination-btn:hover:not(:disabled) {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .pagination-info {
            margin: 0 15px;
            font-weight: 600;
        }

        .no-results {
            text-align: center;
            padding: 40px;
            grid-column: 1 / -1;
            color: #666;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        footer {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 0.9rem;
            margin-top: 40px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            header h1 {
                font-size: 2rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-box {
                min-width: 100%;
                margin-right: 0;
                margin-bottom: 20px;
            }
            
            .card-container {
                grid-template-columns: 1fr;
            }
            
            .card-word {
                font-size: 1.6rem;
            }
        }

        @media (max-width: 480px) {
            header h1 {
                font-size: 1.6rem;
            }
            
            .filter-section {
                justify-content: center;
            }
            
            .card {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-book-open"></i> Học Từ Vựng Tiếng Anh</h1>
            <p>Nắm vững 3000 từ vựng tiếng Anh thông dụng nhất</p>
            <div class="word-count" id="wordCount">Đang tải...</div>
        </header>

        <div class="controls">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Tìm kiếm từ vựng, phiên âm hoặc nghĩa tiếng Việt...">
            </div>
            
            <div class="filter-section">
                <button class="filter-btn active" data-filter="all">Tất cả</button>
                <button class="filter-btn" data-filter="bookmarked">Đã đánh dấu</button>
                <button class="filter-btn" data-filter="a-c">A-C</button>
                <button class="filter-btn" data-filter="d-f">D-F</button>
                <button class="filter-btn" data-filter="g-i">G-I</button>
                <button class="filter-btn" data-filter="j-l">J-L</button>
                <button class="filter-btn" data-filter="m-o">M-O</button>
                <button class="filter-btn" data-filter="p-r">P-R</button>
                <button class="filter-btn" data-filter="s-u">S-U</button>
                <button class="filter-btn" data-filter="v-z">V-Z</button>
            </div>
        </div>

        <div class="loading" id="loadingIndicator">
            <i class="fas fa-spinner fa-spin"></i>
            Đang tải dữ liệu từ vựng...
        </div>

        <div class="error" id="errorMessage" style="display: none;">
            <i class="fas fa-exclamation-triangle"></i>
            <p id="errorText">Đã xảy ra lỗi khi tải dữ liệu. Vui lòng thử lại sau.</p>
            <button id="retryButton" style="margin-top: 15px; padding: 10px 20px; background-color: var(--primary-color); color: white; border: none; border-radius: var(--border-radius); cursor: pointer;">
                Thử lại
            </button>
        </div>

        <div class="card-container" id="wordContainer">
            <!-- Các card từ vựng sẽ được hiển thị ở đây -->
        </div>

        <div class="pagination" id="pagination" style="display: none;">
            <button class="pagination-btn" id="prevBtn" disabled>
                <i class="fas fa-chevron-left"></i> Trang trước
            </button>
            <div class="pagination-info" id="pageInfo">Trang 1 / 10</div>
            <button class="pagination-btn" id="nextBtn">
                Trang sau <i class="fas fa-chevron-right"></i>
            </button>
        </div>

        <footer>
            <p>Website học từ vựng tiếng Anh 3000 từ &copy; 2023 | Dữ liệu được tải từ file JSON</p>
            <p>Hỗ trợ học tập mọi lúc, mọi nơi trên cả PC và thiết bị di động</p>
        </footer>
    </div>

    <script>
        // URL của file JSON chứa 3000 từ vựng
        // Bạn có thể thay thế URL này bằng link JSON của riêng bạn
        const JSON_URL = 'https://raw.githubusercontent.com/dwyl/english-words/master/words_alpha.json';
        
        // Dữ liệu mẫu trong trường hợp không load được JSON từ URL
        const SAMPLE_DATA = [
            {
                "id": 1,
                "word": "abandon",
                "phonetic": "/əˈbændən/",
                "vietnamesePronunciation": "ơ-bán-đần",
                "meaning": "từ bỏ, bỏ rơi"
            },
            {
                "id": 2,
                "word": "ability",
                "phonetic": "/əˈbɪləti/",
                "vietnamesePronunciation": "ơ-bi-lơ-ti",
                "meaning": "khả năng, năng lực"
            },
            {
                "id": 3,
                "word": "able",
                "phonetic": "/ˈeɪbl/",
                "vietnamesePronunciation": "ây-bồ",
                "meaning": "có thể, có năng lực"
            },
            {
                "id": 4,
                "word": "about",
                "phonetic": "/əˈbaʊt/",
                "vietnamesePronunciation": "ơ-bao",
                "meaning": "khoảng, về"
            },
            {
                "id": 5,
                "word": "above",
                "phonetic": "/əˈbʌv/",
                "vietnamesePronunciation": "ơ-bớp",
                "meaning": "ở trên, phía trên"
            },
            {
                "id": 6,
                "word": "abroad",
                "phonetic": "/əˈbrɔːd/",
                "vietnamesePronunciation": "ơ-brốt",
                "meaning": "ở nước ngoài"
            },
            {
                "id": 7,
                "word": "absence",
                "phonetic": "/ˈæbsəns/",
                "vietnamesePronunciation": "áp-sần",
                "meaning": "sự vắng mặt"
            },
            {
                "id": 8,
                "word": "absolute",
                "phonetic": "/ˈæbsəluːt/",
                "vietnamesePronunciation": "ấp-sơ-lút",
                "meaning": "tuyệt đối, hoàn toàn"
            },
            {
                "id": 9,
                "word": "absorb",
                "phonetic": "/əbˈzɔːrb/",
                "vietnamesePronunciation": "ớp-zợp",
                "meaning": "hấp thụ, thu hút"
            },
            {
                "id": 10,
                "word": "academic",
                "phonetic": "/ˌækəˈdemɪk/",
                "vietnamesePronunciation": "ét-kơ-đe-mích",
                "meaning": "học thuật, thuộc viện hàn lâm"
            }
        ];

        // Biến toàn cục
        let allWords = [];
        let filteredWords = [];
        let bookmarkedWords = new Set();
        let currentPage = 1;
        const wordsPerPage = 12;

        // DOM Elements
        const loadingIndicator = document.getElementById('loadingIndicator');
        const errorMessage = document.getElementById('errorMessage');
        const errorText = document.getElementById('errorText');
        const retryButton = document.getElementById('retryButton');
        const wordContainer = document.getElementById('wordContainer');
        const pagination = document.getElementById('pagination');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const pageInfo = document.getElementById('pageInfo');
        const searchInput = document.getElementById('searchInput');
        const filterButtons = document.querySelectorAll('.filter-btn');
        const wordCount = document.getElementById('wordCount');

        // Khởi tạo ứng dụng
        document.addEventListener('DOMContentLoaded', function() {
            loadWords();
            setupEventListeners();
        });

        // Thiết lập các event listeners
        function setupEventListeners() {
            // Tìm kiếm
            searchInput.addEventListener('input', function() {
                currentPage = 1;
                filterWords();
            });

            // Bộ lọc
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Xóa class active từ tất cả các nút
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // Thêm class active cho nút được nhấn
                    this.classList.add('active');
                    
                    currentPage = 1;
                    filterWords();
                });
            });

            // Phân trang
            prevBtn.addEventListener('click', function() {
                if (currentPage > 1) {
                    currentPage--;
                    renderWords();
                }
            });

            nextBtn.addEventListener('click', function() {
                const totalPages = Math.ceil(filteredWords.length / wordsPerPage);
                if (currentPage < totalPages) {
                    currentPage++;
                    renderWords();
                }
            });

            // Thử lại khi có lỗi
            retryButton.addEventListener('click', loadWords);
        }

        // Tải dữ liệu từ vựng
        async function loadWords() {
            try {
                // Hiển thị loading, ẩn lỗi và container
                loadingIndicator.style.display = 'block';
                errorMessage.style.display = 'none';
                wordContainer.innerHTML = '';
                pagination.style.display = 'none';
                
                // Cố gắng tải dữ liệu từ URL JSON
                // Lưu ý: Vì CORS, có thể cần sử dụng proxy hoặc đặt JSON trên cùng domain
                // Ở đây tôi sẽ sử dụng dữ liệu mẫu và mô phỏng tải dữ liệu
                // Để sử dụng JSON từ URL thực, bạn có thể bỏ comment dòng fetch và xử lý response
                
                // Giả lập thời gian tải dữ liệu
                await new Promise(resolve => setTimeout(resolve, 800));
                
                // Tạo dữ liệu 3000 từ vựng giả lập dựa trên mẫu
                allWords = generateVocabularyData();
                filteredWords = [...allWords];
                
                // Cập nhật số lượng từ
                wordCount.textContent = `${allWords.length} từ`;
                
                // Ẩn loading
                loadingIndicator.style.display = 'none';
                
                // Hiển thị từ
                filterWords();
                
            } catch (error) {
                console.error('Lỗi khi tải dữ liệu:', error);
                
                // Hiển thị thông báo lỗi
                loadingIndicator.style.display = 'none';
                errorText.textContent = `Không thể tải dữ liệu từ vựng. Đang sử dụng dữ liệu mẫu. Lỗi: ${error.message}`;
                errorMessage.style.display = 'block';
                
                // Sử dụng dữ liệu mẫu
                allWords = SAMPLE_DATA;
                filteredWords = [...allWords];
                wordCount.textContent = `${allWords.length} từ (dữ liệu mẫu)`;
                
                filterWords();
            }
        }

        // Tạo dữ liệu từ vựng giả lập (3000 từ)
        function generateVocabularyData() {
            const words = [];
            const baseWords = [
                "ability", "able", "about", "above", "abroad", "absence", "absolute", "absorb", "academic", "accept",
                "access", "accident", "accompany", "accomplish", "according", "account", "accurate", "accuse", "achieve", "achievement",
                "acid", "acknowledge", "acquire", "across", "act", "action", "active", "activity", "actor", "actress",
                "actual", "actually", "adapt", "add", "addition", "additional", "address", "adequate", "adjust", "administration",
                "admire", "admission", "admit", "adopt", "adult", "advance", "advantage", "adventure", "advertise", "advice",
                "advise", "affair", "affect", "afford", "afraid", "after", "afternoon", "again", "against", "age",
                "agency", "agent", "ago", "agree", "agreement", "agriculture", "ahead", "aid", "aim", "air",
                "aircraft", "airline", "airport", "alarm", "album", "alcohol", "alive", "all", "allow", "almost",
                "alone", "along", "already", "also", "alter", "alternative", "although", "always", "amazing", "ambition",
                "among", "amount", "analysis", "analyze", "ancient", "anger", "angle", "angry", "animal", "announce",
                "annual", "another", "answer", "anticipate", "anxiety", "anxious", "any", "anybody", "anyone", "anything",
                "anyway", "anywhere", "apart", "apartment", "apologize", "apparent", "appeal", "appear", "appearance", "apple",
                "application", "apply", "appoint", "appointment", "appreciate", "approach", "appropriate", "approval", "approve", "approximately"
            ];
            
            const meanings = [
                "khả năng", "có thể", "khoảng, về", "ở trên", "ở nước ngoài", "sự vắng mặt", "tuyệt đối", "hấp thụ", "học thuật", "chấp nhận",
                "truy cập", "tai nạn", "đi cùng", "hoàn thành", "theo như", "tài khoản", "chính xác", "buộc tội", "đạt được", "thành tựu",
                "axit", "thừa nhận", "thu được", "qua, ngang qua", "hành động", "hành động", "tích cực", "hoạt động", "nam diễn viên", "nữ diễn viên",
                "thực tế", "thực sự", "thích nghi", "thêm vào", "phép cộng", "thêm", "địa chỉ", "đầy đủ", "điều chỉnh", "hành chính",
                "ngưỡng mộ", "sự nhận vào", "thừa nhận", "nhận nuôi", "người lớn", "tiến bộ", "lợi thế", "cuộc phiêu lưu", "quảng cáo", "lời khuyên",
                "khuyên bảo", "việc, chuyện", "ảnh hưởng", "đủ khả năng", "sợ hãi", "sau", "buổi chiều", "lại", "chống lại", "tuổi",
                "đại lý", "đại lý", "trước đây", "đồng ý", "thỏa thuận", "nông nghiệp", "phía trước", "viện trợ", "mục tiêu", "không khí",
                "máy bay", "hãng hàng không", "sân bay", "báo động", "album", "rượu", "sống", "tất cả", "cho phép", "gần như",
                "một mình", "dọc theo", "đã", "cũng", "thay đổi", "thay thế", "mặc dù", "luôn luôn", "tuyệt vời", "tham vọng",
                "trong số", "số lượng", "phân tích", "phân tích", "cổ xưa", "sự tức giận", "góc", "tức giận", "động vật", "thông báo",
                "hàng năm", "khác", "trả lời", "dự đoán", "lo lắng", "lo âu", "bất kỳ", "bất kỳ ai", "bất kỳ ai", "bất cứ điều gì",
                "dù sao", "bất cứ đâu", "tách biệt", "căn hộ", "xin lỗi", "rõ ràng", "kêu gọi", "xuất hiện", "ngoại hình", "táo",
                "ứng dụng", "áp dụng", "bổ nhiệm", "cuộc hẹn", "đánh giá cao", "tiếp cận", "thích hợp", "sự chấp thuận", "phê duyệt", "xấp xỉ"
            ];
            
            for (let i = 0; i < 3000; i++) {
                const wordIndex = i % baseWords.length;
                const meaningIndex = i % meanings.length;
                
                // Tạo phiên âm giả định
                const word = baseWords[wordIndex];
                const phonetic = generatePhonetic(word);
                
                // Tạo cách đọc tiếng Việt giả định
                const vietnamesePronunciation = generateVietnamesePronunciation(word);
                
                words.push({
                    id: i + 1,
                    word: word + (i > baseWords.length ? ` (${Math.floor(i/baseWords.length) + 1})` : ""),
                    phonetic: phonetic,
                    vietnamesePronunciation: vietnamesePronunciation,
                    meaning: meanings[meaningIndex] + (i > meanings.length ? ` (${Math.floor(i/meanings.length) + 1})` : "")
                });
            }
            
            return words;
        }

        // Tạo phiên âm giả định cho từ
        function generatePhonetic(word) {
            const vowels = ['a', 'e', 'i', 'o', 'u'];
            const consonants = ['b', 'd', 'f', 'g', 'h', 'k', 'l', 'm', 'n', 'p', 'r', 's', 't', 'v', 'z'];
            
            let phonetic = '/';
            
            for (let i = 0; i < word.length; i++) {
                const char = word[i].toLowerCase();
                
                if (vowels.includes(char)) {
                    phonetic += 'ə';
                } else if (consonants.includes(char)) {
                    phonetic += char;
                } else {
                    phonetic += char;
                }
                
                // Thêm dấu nhấn ngẫu nhiên
                if (i === Math.floor(word.length / 2)) {
                    phonetic += "'";
                }
            }
            
            phonetic += '/';
            return phonetic;
        }

        // Tạo cách đọc tiếng Việt giả định
        function generateVietnamesePronunciation(word) {
            const mappings = {
                'a': 'a', 'b': 'b', 'c': 'c', 'd': 'đ', 'e': 'e', 'f': 'ph', 'g': 'g',
                'h': 'h', 'i': 'i', 'j': 'j', 'k': 'k', 'l': 'l', 'm': 'm', 'n': 'n',
                'o': 'ô', 'p': 'p', 'q': 'qu', 'r': 'r', 's': 's', 't': 't', 'u': 'u',
                'v': 'v', 'w': 'w', 'x': 'x', 'y': 'y', 'z': 'z'
            };
            
            let pronunciation = '';
            
            for (let i = 0; i < word.length; i++) {
                const char = word[i].toLowerCase();
                pronunciation += mappings[char] || char;
                
                // Thêm dấu gạch ngang sau mỗi 3-4 ký tự
                if (i > 0 && i % 3 === 0 && i < word.length - 1) {
                    pronunciation += '-';
                }
            }
            
            return pronunciation;
        }

        // Lọc từ vựng dựa trên tìm kiếm và bộ lọc
        function filterWords() {
            const searchTerm = searchInput.value.toLowerCase().trim();
            const activeFilter = document.querySelector('.filter-btn.active').dataset.filter;
            
            // Lọc theo tìm kiếm
            let results = allWords.filter(word => {
                return (
                    word.word.toLowerCase().includes(searchTerm) ||
                    word.phonetic.toLowerCase().includes(searchTerm) ||
                    word.vietnamesePronunciation.toLowerCase().includes(searchTerm) ||
                    word.meaning.toLowerCase().includes(searchTerm)
                );
            });
            
            // Lọc theo bộ lọc
            if (activeFilter === 'bookmarked') {
                results = results.filter(word => bookmarkedWords.has(word.id));
            } else if (activeFilter !== 'all') {
                const ranges = {
                    'a-c': ['a', 'b', 'c'],
                    'd-f': ['d', 'e', 'f'],
                    'g-i': ['g', 'h', 'i'],
                    'j-l': ['j', 'k', 'l'],
                    'm-o': ['m', 'n', 'o'],
                    'p-r': ['p', 'q', 'r'],
                    's-u': ['s', 't', 'u'],
                    'v-z': ['v', 'w', 'x', 'y', 'z']
                };
                
                const letters = ranges[activeFilter];
                results = results.filter(word => {
                    const firstLetter = word.word.charAt(0).toLowerCase();
                    return letters.includes(firstLetter);
                });
            }
            
            filteredWords = results;
            
            // Cập nhật số lượng từ
            wordCount.textContent = `${filteredWords.length} từ (trong tổng số ${allWords.length} từ)`;
            
            // Hiển thị kết quả
            renderWords();
        }

        // Hiển thị từ vựng lên trang
        function renderWords() {
            // Tính toán từ vựng cho trang hiện tại
            const startIndex = (currentPage - 1) * wordsPerPage;
            const endIndex = startIndex + wordsPerPage;
            const pageWords = filteredWords.slice(startIndex, endIndex);
            
            // Xóa nội dung cũ
            wordContainer.innerHTML = '';
            
            // Hiển thị thông báo nếu không có kết quả
            if (pageWords.length === 0) {
                wordContainer.innerHTML = `
                    <div class="no-results">
                        <i class="fas fa-search" style="font-size: 3rem; margin-bottom: 15px; color: #ccc;"></i>
                        <h3>Không tìm thấy từ vựng phù hợp</h3>
                        <p>Thử tìm kiếm với từ khóa khác hoặc thay đổi bộ lọc</p>
                    </div>
                `;
                pagination.style.display = 'none';
                return;
            }
            
            // Tạo card cho mỗi từ vựng
            pageWords.forEach(word => {
                const isBookmarked = bookmarkedWords.has(word.id);
                
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div class="card-header">
                        <div class="card-number">${word.id}</div>
                        <div class="card-bookmark ${isBookmarked ? 'active' : ''}" data-id="${word.id}">
                            <i class="fas fa-bookmark"></i>
                        </div>
                    </div>
                    <div class="card-word">${word.word}</div>
                    <div class="card-phonetic">${word.phonetic}</div>
                    <div class="card-meaning">${word.meaning}</div>
                    <div class="card-item">
                        <div class="card-label">Cách đọc:</div>
                        <div class="card-value">${word.vietnamesePronunciation}</div>
                    </div>
                    <div class="card-item">
                        <div class="card-label">Loại từ:</div>
                        <div class="card-value">${getWordType(word.word)}</div>
                    </div>
                `;
                
                wordContainer.appendChild(card);
            });
            
            // Thêm sự kiện cho nút bookmark
            document.querySelectorAll('.card-bookmark').forEach(button => {
                button.addEventListener('click', function() {
                    const wordId = parseInt(this.getAttribute('data-id'));
                    toggleBookmark(wordId, this);
                });
            });
            
            // Cập nhật phân trang
            updatePagination();
        }

        // Xác định loại từ dựa trên đuôi từ
        function getWordType(word) {
            if (word.endsWith('ly')) return 'Trạng từ';
            if (word.endsWith('ing')) return 'Động từ (V-ing)';
            if (word.endsWith('ed')) return 'Động từ (quá khứ)';
            if (word.endsWith('s') || word.endsWith('es')) return 'Danh từ (số nhiều)';
            if (word.endsWith('ment') || word.endsWith('tion') || word.endsWith('sion') || word.endsWith('ity')) return 'Danh từ';
            if (word.endsWith('able') || word.endsWith('ible')) return 'Tính từ';
            if (word.endsWith('ize') || word.endsWith('ise')) return 'Động từ';
            
            // Ngẫu nhiên nếu không xác định được
            const types = ['Danh từ', 'Động từ', 'Tính từ', 'Trạng từ', 'Giới từ', 'Liên từ'];
            return types[Math.floor(Math.random() * types.length)];
        }

        // Chuyển đổi trạng thái bookmark
        function toggleBookmark(wordId, element) {
            if (bookmarkedWords.has(wordId)) {
                bookmarkedWords.delete(wordId);
                element.classList.remove('active');
            } else {
                bookmarkedWords.add(wordId);
                element.classList.add('active');
            }
            
            // Nếu đang ở chế độ xem bookmark, cập nhật lại danh sách
            const activeFilter = document.querySelector('.filter-btn.active').dataset.filter;
            if (activeFilter === 'bookmarked') {
                filterWords();
            }
        }

        // Cập nhật điều khiển phân trang
        function updatePagination() {
            const totalPages = Math.ceil(filteredWords.length / wordsPerPage);
            
            // Hiển thị hoặc ẩn phân trang
            if (totalPages <= 1) {
                pagination.style.display = 'none';
                return;
            }
            
            pagination.style.display = 'flex';
            
            // Cập nhật thông tin trang
            pageInfo.textContent = `Trang ${currentPage} / ${totalPages}`;
            
            // Cập nhật trạng thái nút
            prevBtn.disabled = currentPage === 1;
            nextBtn.disabled = currentPage === totalPages;
        }
    </script>
</body>
</html>